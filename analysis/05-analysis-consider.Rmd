# Familiarity with and Preferences for Other Multiethnic Places

The long-term stability of multiethnic neighborhoods requires that residents of all races consider moving to existing multiethnic neighborhoods. The subsequent analyses assess how likely residents are to consider neighborhoods and how likely they are to actively not consider multiethnic neighborhoods. 

## Familiarity with Multiethnic Places

Two measures of familiarity with other multiethnic places in the Washington, D.C. area: 

1. Whether the respondent reports knowing anything about the place
2. Whether respondent reports having friends or family in the place

Uses the same analytical strategy, except that we add two covariates to each model: 

1. Whether the respondent reports living in the place

```{r familiarity}
m3_srch <- sub('\\+ nhdyrs.+$', '', m3) # Eliminate nhood perceptions variables

nhd.model <- function(nhd, dim, model) {
    nhdvar <- paste0('nhd.srch.', nhd, '.', dim)
    f <- as.formula(paste0(nhdvar, ' ~ ', model, ' + nhd.srch.', nhd, '.live'))
    return(with(dcassvy, svyglm(f, family=binomial())))
}

quad.nhoods <- c('herndon', 'germantown', 'wheaton')

## Don't Know
m0_dk <- lapply(quad.nhoods, nhd.model, 'dk', 'dem.race')
names(m0_dk) <- quad.nhoods
m0_dk_pred <- lapply(m0_dk, MIpredict)
m0_dk <- lapply(m0_dk, MIcombine_aic)

m1_dk <- lapply(quad.nhoods, nhd.model, 'dk', m1)
names(m1_dk) <- quad.nhoods
m1_dk_pred <- lapply(m1_dk, MIpredict)
m1_dk <- lapply(m1_dk, MIcombine_aic)

m3_dk <- lapply(quad.nhoods, nhd.model, 'dk', m3_srch)
names(m3_dk) <- quad.nhoods
m3_dk_pred <- lapply(m3_dk, MIpredict)
m3_dk <- lapply(m3_dk, MIcombine_aic)

## Friends & Family
m0_ff <- lapply(quad.nhoods, nhd.model, 'ff', 'dem.race')
names(m0_ff) <- quad.nhoods
m0_ff_pred <- lapply(m0_ff, MIpredict)
m0_ff <- lapply(m0_ff, MIcombine_aic)

m1_ff <- lapply(quad.nhoods, nhd.model, 'ff', m1)
names(m1_ff) <- quad.nhoods
m1_ff_pred <- lapply(m1_ff, MIpredict)
m1_ff <- lapply(m1_ff, MIcombine_aic)

m3_ff <- lapply(quad.nhoods, nhd.model, 'ff', m3_srch)
names(m3_ff) <- quad.nhoods
m3_ff_pred <- lapply(m3_ff, MIpredict)
m3_ff <- lapply(m3_ff, MIcombine_aic)
```

```{r report-familiarity-results, echo=TRUE, include=TRUE}
know_tbl <- huxreg(append(m3_dk, m3_ff))
know_tbl[seq(4,9,2),1] <- regression_labels[1:3]
know_tbl <- know_tbl[c(1:9, nrow(know_tbl)),] %>%
    insert_column(rep('',10),after=4) %>%
    insert_row(c('', 
                 'Don\'t know', '', '', '', 
                 'Friends and family','',''),after=0) %>%
    merge_cells(c(1:1),c(2:4)) %>% merge_cells(c(1:1),c(6:8)) %>%
    set_align(1, everywhere, 'center') %>%
    set_bottom_border(row=where(know_tbl$names=='Latinx')+2, 
                      col=everywhere, value=1)
know_tbl
cat(to_latex(know_tbl), file='tables/knowledge.tex')
```

## Where People Would Consider Moving


## Where Would People Never Consider Moving
